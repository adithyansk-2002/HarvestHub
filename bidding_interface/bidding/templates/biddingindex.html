<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HarvestHub - Crop Price Prediction</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <link rel="stylesheet" href="../static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        .room-details-section {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .room-info {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #2e6f40;
        }

        .room-info.loading {
            text-align: center;
            color: #666;
        }

        .room-info.error {
            color: #dc3545;
            border-left-color: #dc3545;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>HarvestHub</h1>
            <p>Crop Price Prediction & Bidding Platform</p>
        </header>

        <main>
            <!-- Room Details Section -->
            <section class="room-details-section">
                <h2>Room Details</h2>
                <div id="roomDetails" class="room-info loading">
                    Loading room details...
                </div>
            </section>

            <section class="prediction-section">
                <h2>Price Prediction</h2>
                <div class="prediction-form">
                    <div class="form-group">
                        <label for="crop">Select Crop:</label>
                        <select id="crop" required>
                            <option value="">Choose a crop...</option>
                            <option value="onions">Onions</option>
                            <option value="potatoes">Potatoes</option>
                            <option value="rice">Rice</option>
                            <option value="salt (iodised)">Salt</option>
                            <option value="sugar">Sugar</option>
                            <option value="tea (black)">Tea</option>
                            <option value="tomatoes">Tomatoes</option>
                            <option value="wheat">Wheat</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="year">Prediction Year:</label>
                        <input type="number" id="year" min="2001" max="2050" placeholder="Enter year (2001-2050)" required>
                    </div>
                    <button onclick="predictPrice()">Predict Price</button>
                </div>
                <div id="prediction-result"></div>
            </section>

            <section class="bidding-section">
                <div class="bidding-header">
                    <h2>Bidding Interface</h2>
                    <div class="timer-display">
                        Time Remaining: <span id="timer">01:00</span>
                    </div>
                </div>
                <div class="chat-container">
                    <div id="chat-messages"></div>
                    <div class="input-container">
                        <input type="number" id="bid-amount" placeholder="Enter your bid amount" min="0">
                        <button onclick="sendBid()">Place Bid</button>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script src="../static/biddingscript.js"></script>
</body>
</html>
